<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
  <head>
	  <title>EMS Admin - Message</title>
	  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
	  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.min.css" />
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	  <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
	  <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
	  <link th:href="@{/css/style.css}" rel="stylesheet" />
	  <script th:src="@{/js/bootstrap.min.js}"></script>
	  <script th:src="@{/js/scripts.js}"></script>
  </head>
  <body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<h1 th:inline="text">Hello, [[${#httpServletRequest.remoteUser}]]!</h1>
			</div>
		</div>
		<div class="row">
			<div class="col-md-2">
				<div class="list-group">
					<a th:href="@{/index}" class="list-group-item" th:text="#{admin.home}"></a>
					<a th:href="@{/admin}" class="list-group-item" th:text="#{admin.admin}"></a>
					<a th:href="@{/admin/user}" class="list-group-item" th:text="#{admin.user}"></a>
					<a th:href="@{/admin/role}" class="list-group-item" th:text="#{admin.role}"></a>
					<a th:href="@{/admin/message}" class="list-group-item active" th:text="#{admin.message}"></a>
					<a th:href="@{/admin/project}" class="list-group-item" th:text="#{admin.project}"></a>
					<a th:href="@{/admin/task}" class="list-group-item" th:text="#{admin.task}"></a>
					<a th:href="@{/admin/subtask}" class="list-group-item" th:text="#{admin.subtask}"></a>
				</div>
			</div>
			<div class="col-md-8 left-box">
				<a th:href="@{/admin/message/create}" th:text="#{button.new}" class="btn btn-success btn-sm"></a>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th th:text="#{admin.id}"></th>
							<th th:text="#{admin.text}"></th>
							<th th:text="#{admin.date}"></th>
							<th th:text="#{admin.sender}"></th>
							<th th:text="#{admin.receiver}"></th>
							<th></th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="message : ${messages}">
							<td th:text="${message.id}"></td>
							<td th:text="${message.text}"></td>
							<td th:text="${message.date}"></td>
							<td th:text="${message.fkAccountSender}"></td>
							<td th:text="${message.fkAccountReceiver}"></td>
							<td> <a th:href="@{/admin/message/{id}(id=${message.id})}" th:text="#{button.edit}" class="btn btn-info btn-xs"></a></td>
							<td>
								<form id="deleteButton" th:action = "@{/admin/message/{id}/delete(id=${message.id})}" method="post" onsubmit="return confirm('Are you sure you want to delete this row?');">
									<input type="submit" th:value="#{button.delete}" class="btn btn-danger btn-xs"/>
								</form>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
  </body>
</html>
